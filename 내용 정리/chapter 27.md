# 27장 - 테스팅 패턴
## 상세한 테스트 작성법

### 자식 테스트
> 지나치게 큰 테스트를 어떻게 돌아가도록 할 수 있을까?
- 원래 테스트 케이스의 깨지는 부분에 해당하는 작은 테스트를 작성하고 그 작은 테스트를 실행되도록 하라 -> 하나하나 해결해서 결국 큰 테스트가 해결되도록 하라
- 즉, 큰 테스트를 작은 테스트로 나눠라
- Why? 빨강/초록/리펙토링 리듬을 잃어버리지 않기 위해 + 빨간 막대가 주는 압박감이 있기 때문

### 모의 객체 (MOCK OBJECT)
- 비용이 많이 들거나 복잡한 리소스에 의존하는 객체를 테스트 하려면 이를 본 딴 모의 객체를 만들어서 테스팅해라
- 모의 객체는 가짜 객체와는 다르다, 스스로 검증할 수 있는 능력이 있고, 외부에서 결과값을 조정할 수 있다
- 모의 객체의 가치는 성능과 견고함 이외에도 가독성이 있다
- 모의 객체가 진짜 객체와 동일하게 동작하지 않으면에 대한 걱정은 모의 객체용 테스트를 진짜 객체에 적용해서 확인하면 된다

### SELF SHUNT - 자신이 보낸 것이 다시 자신에게 돌아오는지 확인하는 루프백 테스트
- 테스트 케이스가 구현할 인터페이스를 얻기 위해 인터페이스 추출을 해야한다.
- 인터페이스를 추출하는 것과 존재하는 클래스를 블랙 박스로 테스트하는 것이 더 쉬운지를 결정해야한다
- SELF SHUNT의 경우, 당연히 인터페이스가 작으면 좋다

### 로그 문자열
-	메시지의 호출 순서가 올바른지 검사할 때 사용
-	메시지가 호출될 때 마다 로그 문자열에 추가

### 크래시 테스트 더미
-	잘 호출되지 않을 것 같은 에러를 테스트 하는 방법은, 그냥 예외를 발생시키는 특수한 객체를 만들어서 이를 호출한다
-	공간이 없는 경우를 테스트하기 위해 노가다로 공간을 다 채우는 것은 너무 비효율 적이다 그냥 EXCEPTION 발생시키는 것이 효율적임

### 깨진 테스트
혼자서 프로그래밍 할 때는 마지막 테스트가 깨진 상태로 끝마치는 것이 좋다
- 	다음 작업 시작 시 할 일을 바로 알 수 있다
- 	일종의 책갈피 역할을 하는 것

### 꺠끗한 체크인
팀 프로그래밍을 할 때는 모든 테스트가 성공한 상태로 끝마치는 것이 좋다
-	자신이 마지막으로 코딩한 이후 지금까지 무슨 일이 있었는지 자세하게 모르기 때문에 안심되고 확신이 있는 상태에서 작업을 시작할 필요가 있다
-	체크인 전에 항상 모든 코드가 돌아가는 상태로 만들어놔야 한다
- 	테스트 슈트가 실패하면 작업한 코드를 전부 날려버려라
    - 우리가 만들어낸 프로그램을 우리가 완전히 이해하지 못한 상황이므로 - 개인적으로 너무 극단적이라고 생각함

